let _=O;const x={},d=1,S=2,D={owned:null,cleanups:null,context:null,owner:null};var u=null;let b=null,h=null,w=null,r=null,a=null,T=0;function q(e,s){s&&(u=s);const t=h,i=u,l=e.length===0?D:{owned:null,cleanups:null,context:null,owner:i};u=l,h=null;let n;try{N(()=>n=e(()=>L(l)),!0)}finally{h=t,u=i}return n}function $(e,s,t){v(X(e,s,!1,d))}function F(e){if(w)return e();let s;const t=w=[];try{s=e()}finally{w=null}return N(()=>{for(let i=0;i<t.length;i+=1){const l=t[i];if(l.pending!==x){const n=l.pending;l.pending=x,P(l,n)}}},!1),s}function Q(e){let s,t=h;return h=null,s=e(),h=t,s}function P(e,s,t){if(e.comparator&&e.comparator(e.value,s))return s;if(w)return e.pending===x&&w.push(e),e.pending=s,s;let i=!1;return e.value=s,e.observers&&e.observers.length&&N(()=>{for(let l=0;l<e.observers.length;l+=1){const n=e.observers[l];i&&b.disposed.has(n),n.pure?r.push(n):a.push(n),n.observers&&(i&&!n.tState||!i&&!n.state)&&I(n),i||(n.state=d)}if(r.length>1e6)throw r=[],new Error},!1),s}function v(e){if(!e.fn)return;L(e);const s=u,t=h,i=T;h=u=e,W(e,e.value,i),h=t,u=s}function W(e,s,t){let i;try{i=e.fn(s)}catch(l){R(l)}(!e.updatedAt||e.updatedAt<=t)&&(e.observers&&e.observers.length?P(e,i):e.value=i,e.updatedAt=t)}function X(e,s,t,i=d,l){const n={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:s,owner:u,context:null,pure:t};return u===null||u!==D&&(u.owned?u.owned.push(n):u.owned=[n]),n}function U(e){const s=b;if(e.state!==d)return e.state=0;if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<T);)(e.state||s)&&t.push(e);for(let i=t.length-1;i>=0;i--)if(e=t[i],e.state===d||s)v(e);else if(e.state===S||s){const l=r;r=null,G(e),r=l}}function N(e,s){if(r)return e();let t=!1;s||(r=[]),a?t=!0:a=[],T++;try{e()}catch(i){R(i)}finally{J(t)}}function J(e){r&&(O(r),r=null),!e&&(a.length?F(()=>{_(a),a=null}):a=null)}function O(e){for(let s=0;s<e.length;s++)U(e[s])}function G(e){e.state=0;for(let s=0;s<e.sources.length;s+=1){const t=e.sources[s];t.sources&&(t.state===d||b?U(t):t.state===S&&G(t))}}function I(e){const s=b;for(let t=0;t<e.observers.length;t+=1){const i=e.observers[t];(!i.state||s)&&(i.state=S,i.pure?r.push(i):a.push(i),i.observers&&I(i))}}function L(e){let s;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),i=e.sourceSlots.pop(),l=t.observers;if(l&&l.length){const n=l.pop(),f=t.observerSlots.pop();i<l.length&&(n.sourceSlots[f]=i,l[i]=n,t.observerSlots[i]=f)}}if(e.owned){for(s=0;s<e.owned.length;s++)L(e.owned[s]);e.owned=null}if(e.cleanups){for(s=0;s<e.cleanups.length;s++)e.cleanups[s]();e.cleanups=null}e.state=0,e.context=null}function R(e){throw e}function j(e,s,t){let i=t.length,l=s.length,n=i,f=0,o=0,A=s[l-1].nextSibling,p=null;for(;f<l||o<n;){if(s[f]===t[o]){f++,o++;continue}for(;s[l-1]===t[n-1];)l--,n--;if(l===f){const c=n<i?o?t[o-1].nextSibling:t[n-o]:A;for(;o<n;)e.insertBefore(t[o++],c)}else if(n===o)for(;f<l;)(!p||!p.has(s[f]))&&e.removeChild(s[f]),f++;else if(s[f]===t[n-1]&&t[o]===s[l-1]){const c=s[--l].nextSibling;e.insertBefore(t[o++],s[f++].nextSibling),e.insertBefore(t[--n],c),s[l]=t[n]}else{if(!p){p=new Map;let g=o;for(;g<n;)p.set(t[g],g++)}const c=p.get(s[f]);if(c!=null)if(o<c&&c<n){let g=f,C=1,B;for(;++g<l&&g<n&&!((B=p.get(s[g]))==null||B!==c+C);)C++;if(C>c-o){const V=s[f];for(;o<c;)e.insertBefore(t[o++],V)}else e.replaceChild(t[o++],s[f++])}else f++;else e.removeChild(s[f++])}}}const H="_$DX_DELEGATE";function Z(e,s,t){let i;return q(l=>{i=l,K(s,e(),s.firstChild?null:void 0,t)}),()=>{i(),s.textContent=""}}function k(e,s,t){const i=document.createElement("template");i.innerHTML=e;let l=i.content.firstChild;return t&&(l=l.firstChild),l}function z(e,s=window.document){const t=s[H]||(s[H]=new Set);for(let i=0,l=e.length;i<l;i++){const n=e[i];t.has(n)||(t.add(n),s.addEventListener(n,Y))}}function ee(e,s,t){t==null?e.removeAttribute(s):e.setAttribute(s,t)}function te(e,s,t,i){i?Array.isArray(t)?(e[`$$${s}`]=t[0],e[`$$${s}Data`]=t[1]):e[`$$${s}`]=t:Array.isArray(t)?e.addEventListener(s,l=>t[0](t[1],l)):e.addEventListener(s,t)}function K(e,s,t,i){if(t!==void 0&&!i&&(i=[]),typeof s!="function")return E(e,s,i,t);$(l=>E(e,s(),l,t),i)}function Y(e){const s=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t}});t!==null;){const i=t[s];if(i&&!t.disabled){const l=t[`${s}Data`];if(l!==void 0?i(l,e):i(e),e.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function E(e,s,t,i,l){for(;typeof t=="function";)t=t();if(s===t)return t;const n=typeof s,f=i!==void 0;if(e=f&&t[0]&&t[0].parentNode||e,n==="string"||n==="number")if(n==="number"&&(s=s.toString()),f){let o=t[0];o&&o.nodeType===3?o.data=s:o=document.createTextNode(s),t=y(e,t,i,o)}else t!==""&&typeof t=="string"?t=e.firstChild.data=s:t=e.textContent=s;else if(s==null||n==="boolean")t=y(e,t,i);else{if(n==="function")return $(()=>{let o=s();for(;typeof o=="function";)o=o();t=E(e,o,t,i)}),()=>t;if(Array.isArray(s)){const o=[];if(m(o,s,l))return $(()=>t=E(e,o,t,i,!0)),()=>t;if(o.length===0){if(t=y(e,t,i),f)return t}else Array.isArray(t)?t.length===0?M(e,o,i):j(e,t,o):t==null||t===""?M(e,o):j(e,f&&t||[e.firstChild],o);t=o}else if(s instanceof Node){if(Array.isArray(t)){if(f)return t=y(e,t,i,s);y(e,t,null,s)}else t==null||t===""||!e.firstChild?e.appendChild(s):e.replaceChild(s,e.firstChild);t=s}}return t}function m(e,s,t){let i=!1;for(let l=0,n=s.length;l<n;l++){let f=s[l],o;if(f instanceof Node)e.push(f);else if(!(f==null||f===!0||f===!1))if(Array.isArray(f))i=m(e,f)||i;else if((o=typeof f)==="string")e.push(document.createTextNode(f));else if(o==="function")if(t){for(;typeof f=="function";)f=f();i=m(e,Array.isArray(f)?f:[f])||i}else e.push(f),i=!0;else e.push(document.createTextNode(f.toString()))}return i}function M(e,s,t){for(let i=0,l=s.length;i<l;i++)e.insertBefore(s[i],t)}function y(e,s,t,i){if(t===void 0)return e.textContent="";const l=i||document.createTextNode("");if(s.length){let n=!1;for(let f=s.length-1;f>=0;f--){const o=s[f];if(l!==o){const A=o.parentNode===e;!n&&!f?A?e.replaceChild(l,o):e.insertBefore(l,t):A&&e.removeChild(o)}else n=!0}}else e.insertBefore(l,t);return[l]}export{te as a,$ as c,z as d,Z as r,ee as s,k as t};
